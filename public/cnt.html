<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="ゲーム「マギアレコード」の、キャラクタ同士の対面回数をランキング表示するツールを公開しています。">
  <base target="_top">
  <link rel="icon" type="image/x-icon" href="./img/webp/ファビコン.webp">
  <link rel="apple-touch-icon" sizes="180x180" href="./img/webp/apple_fabicon.webp">

  <title>マギレコ魔法少女同席ランキング</title>

  <!-- CSSファイル読み出し -->
  <link rel="stylesheet" href="./myfile/mycss.css">
  <link rel="stylesheet" href="./myfile/charaBox_webp.css">
  <link rel="stylesheet" href="./myfile/graph.css">
  <!-- チェック前でもアイコンが暗くならないようにcssを上書き -->
  <style>
    .magicalgirl input[type="checkbox"] {
      filter: brightness(90%);
    }

    .magicalgirl input[type="checkbox"]:checked {
      filter: brightness(90%);
      filter: drop-shadow(0px rgba(0, 0, 0, 0));
    }
  </style>

  <!-- 上に進む、下に進むボタンの設置 -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <!-- 魔法少女絞り込みのjavascriptメソッドを読む-->
  <script src="./myfile/mgirlNarrow.js"></script>
</head>

<body>
  <H2 class="title">マギレコ魔法少女同席回数ランキング</H2>
  <a href="index.html">マギレコキャラクタストーリー検索</a>&ensp;
  <a href="https://drive.google.com/file/d/1sLTb1mObjbs7gwzfyHvMsGpEvexQLjN9/view?usp=sharing">
    GML形式データファイル</a>

  <p class="top">
    キャラクタを選択すると、同席した魔法少女の回数(話数)をランキング形式で表示します。<BR>
  </p>
  <!-- 魔法少女絞り込みテキスト入力実装 -->
  <input type="text" spellcheck="false" class="ndownword" name="ndownword" placeholder="かなカナ漢字名前で絞り込み。スペースでOR。削除で戻る" id="ndownword1" oninput="mgirlNarrow('call', 'ndownword1')">
  <input type="button" value="絞り込みリセット" class="ndownReset" onClick="ndownReset('call')">
  <!-- 魔法少女チェックボックス実装 -->
  <form name="magicalgirl">
    <div class="magicalgirl">

      <label class="girlbox umeColor" data-kana="たまき いろは"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="環いろは" value="環いろは"><br>環いろは★</label>
      <label class="girlbox umeColor" data-kana="ななみ やちよ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="七海やちよ" value="七海やちよ"><br>七海やちよ★</label>
      <label class="girlbox umeColor" data-kana="ゆい つるの"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="由比鶴乃" value="由比鶴乃"><br>由比鶴乃★</label>
      <label class="girlbox umeColor" data-kana="ふたば さな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="二葉さな" value="二葉さな"><br>二葉さな★</label>
      <label class="girlbox umeColor" id="feri" data-kana="みつき ふぇりしあ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="深月フェリシア" value="深月フェリシア"><br>深月<br>フェリシア★</label>
      <label class="girlbox umeColor" data-kana="たまき うい"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="環うい" value="環うい"><br>環うい</label>
      <label class="girlbox umeColor" data-kana="ちいさなきゅぅべぇ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="小さなキュゥべえ" value="小さなキュゥべえ"><br>小さなキュゥべえ</label>
      <label class="girlbox umeColor" data-kana="あずさ みふゆ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="梓みふゆ" value="梓みふゆ"><br>梓みふゆ★</label>
      <label class="girlbox umeColor" data-kana="さとみ とうか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="里見灯花" value="里見灯花"><br>里見灯花★</label>
      <label class="girlbox umeColor" data-kana="ひいらぎ ねむ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="柊ねむ" value="柊ねむ"><br>柊ねむ★</label>
      <label class="girlbox umeColor" data-kana="ありな ぐれい"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="アリナ・グレイ" value="アリナ・グレイ"><br>アリナ・<br>グレイ★</label>
      <label class="girlbox umeColor" data-kana="みその かりん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="御園かりん" value="御園かりん"><br>御園かりん</label>
      <label class="girlbox umeColor" data-kana="みなみ れな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="水波レナ" value="水波レナ"><br>水波レナ★</label>
      <label class="girlbox umeColor" data-kana="とがめ ももこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="十咎ももこ" value="十咎ももこ"><br>十咎ももこ★</label>
      <label class="girlbox umeColor" data-kana="あきの かえで"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="秋野かえで" value="秋野かえで"><br>秋野かえで★</label>
      <label class="girlbox umeColor" data-kana="いずみ かなぎ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="和泉十七夜" value="和泉十七夜"><br>和泉十七夜★</label>
      <label class="girlbox umeColor" data-kana="やくも みたま"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="八雲みたま" value="八雲みたま"><br>八雲<br>みたま★</label>
      <label class="girlbox umeColor" data-kana="あまね つくよ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="天音月夜" value="天音月夜"><br>天音月夜★</label>
      <label class="girlbox umeColor" data-kana="あまね つかさ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="天音月咲" value="天音月咲"><br>天音月咲★</label>
      <label class="girlbox umeColor" data-kana="みやこ ひなの"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="都ひなの" value="都ひなの"><br>都ひなの</label>
      <label class="girlbox umeColor" data-kana="まんねんざくらのうわさ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="万年桜のウワサ" value="万年桜のウワサ"><br>万年桜の<br>ウワサ★</label>
      <label class="girlbox umeColor" data-kana="みどり りょう"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="観鳥令" value="観鳥令"><br>観鳥令</label>
      <label class="girlbox umeColor" data-kana="まきの いくみ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="牧野郁美" value="牧野郁美"><br>牧野郁美</label>
      <label class="girlbox umeColor" data-kana="たつき あすか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="竜城明日香" value="竜城明日香"><br>竜城明日香</label>
      <label class="girlbox umeColor" data-kana="みなぎ ささら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="美凪ささら" value="美凪ささら"><br>美凪ささら</label>

      <label class="girlbox umeOtherColor leftm" data-kana="くれは ゆな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="紅晴結菜" value="紅晴結菜"><br>紅晴結菜</label>
      <label class="girlbox umeOtherColor" data-kana="きらり ひかる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="煌里ひかる" value="煌里ひかる"><br>煌里ひかる</label>
      <label class="girlbox umeOtherColor" data-kana="かさね あお"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="笠音アオ" value="笠音アオ"><br>笠音アオ</label>
      <label class="girlbox umeOtherColor" data-kana="おおば じゅり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="大庭樹里" value="大庭樹里"><br>大庭樹里</label>
      <label class="girlbox umeOtherColor" data-kana="すずか さくや"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="鈴鹿さくや" value="鈴鹿さくや"><br>鈴鹿さくや</label>
      <label class="girlbox umeOtherColor" data-kana="ちず らんか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="智珠らんか" value="智珠らんか"><br>智珠らんか</label>
      <label class="girlbox umeOtherColor" data-kana="ゆめ うらら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="有愛うらら" value="有愛うらら"><br>有愛うらら</label>

      <label class="girlbox PMHQColor leftm" data-kana="ときめ しずか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="時女静香" value="時女静香"><br>時女静香</label>
      <label class="girlbox PMHQColor" data-kana="ひろえ ちはる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="広江ちはる" value="広江ちはる"><br>広江ちはる</label>
      <label class="girlbox PMHQColor" data-kana="とき すなお"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="土岐すなお" value="土岐すなお"><br>土岐すなお</label>
      <label class="girlbox PMHQColor" data-kana="あおば ちか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="青葉ちか" value="青葉ちか"><br>青葉ちか</label>
      <label class="girlbox PMHQColor" data-kana="なつ りょうこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="南津涼子" value="南津涼子"><br>南津涼子</label>
      <label class="girlbox PMHQColor" data-kana="みうら あさひ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="三浦旭" value="三浦旭"><br>三浦旭</label>

      <label class="girlbox PMHQotherColor leftm" data-kana="あいか ひめな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="藍家ひめな" value="藍家ひめな"><br>藍家ひめな</label>
      <label class="girlbox PMHQotherColor" data-kana="みやび しぐれ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="宮尾時雨" value="宮尾時雨"><br>宮尾時雨</label>
      <label class="girlbox PMHQotherColor" data-kana="あずみ はぐむ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="安積はぐむ" value="安積はぐむ"><br>安積はぐむ</label>
      <label class="girlbox PMHQotherColor" data-kana="くるす あれくさんどら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="栗栖アレクサンドラ" value="栗栖アレクサンドラ"><br>栗栖アレクサンドラ</label>
      <label class="girlbox PMHQotherColor" data-kana="かぐら さん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="神楽燦" value="神楽燦"><br>神楽燦</label>
      <label class="girlbox PMHQotherColor" data-kana="ゆかり みゆり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="遊狩ミユリ" value="遊狩ミユリ"><br>遊狩ミユリ</label>
      <label class="girlbox PMHQotherColor" data-kana="かざり じゅん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="飾利潤" value="飾利潤"><br>飾利潤</label>
      <label class="girlbox PMHQotherColor" data-kana="みわ みつね"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="三輪みつね" value="三輪みつね"><br>三輪みつね</label>

      <label class="girlbox otherColor leftm" data-kana="やくも みかげ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="八雲みかげ" value="八雲みかげ"><br>八雲みかげ</label>
      <label class="girlbox otherColor" data-kana="ひむろ らび"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="氷室ラビ" value="氷室ラビ"><br>氷室ラビ</label>
      <label class="girlbox otherColor" data-kana="さとみ なゆた"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="里見那由他" value="里見那由他"><br>里見那由他</label>

      <label class="girlbox otherColor2 leftm" data-kana="さわ すだち"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="佐和月出里" value="佐和月出里"><br>佐和月出里</label>
      <label class="girlbox otherColor2" data-kana="ささめ よづる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="篠目ヨヅル" value="篠目ヨヅル"><br>篠目ヨヅル</label>
      <label class="girlbox otherColor2" data-kana="りゔぃあ めでぃろす"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="リヴィア・メディロス" value="リヴィア・メディロス"><br>リヴィア・メディロス</label>

      <label class="girlbox otherotherColor leftm" data-kana="かなめ まどか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="鹿目まどか" value="鹿目まどか"><br>鹿目<br>まどか★</label>
      <label class="girlbox otherotherColor" data-kana="あけみ ほむら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="暁美ほむら" value="暁美ほむら"><br>暁美<br>ほむら★</label>
      <label class="girlbox otherotherColor" data-kana="みき さやか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="美樹さやか" value="美樹さやか"><br>美樹さやか★</label>
      <label class="girlbox otherotherColor" data-kana="ともえ まみ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="巴マミ" value="巴マミ"><br>巴マミ★</label>
      <label class="girlbox otherotherColor" data-kana="さくら きょうこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="佐倉杏子" value="佐倉杏子"><br>佐倉杏子★</label>
      <label class="girlbox otherotherColor" data-kana="ももえ なぎさ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="百江なぎさ" value="百江なぎさ"><br>百江なぎさ★</label>

      <label class="girlbox umeColor leftm" data-kana="やよい かのこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="矢宵かのこ" value="矢宵かのこ"><br>矢宵かのこ</label>
      <label class="girlbox umeColor" data-kana="うつほ なつき"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="空穂夏希" value="空穂夏希"><br>空穂夏希</label>
      <label class="girlbox umeColor" data-kana="えり あいみ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="江利あいみ" value="江利あいみ"><br>江利あいみ</label>
      <label class="girlbox umeColor" data-kana="きさき えみり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="木崎衣美里" value="木崎衣美里"><br>木崎衣美里</label>
      <label class="girlbox umeColor" data-kana="ほずみ しずく"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="保澄雫" value="保澄雫"><br>保澄雫</label>
      <label class="girlbox umeColor" data-kana="まりこ あやか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="毬子あやか" value="毬子あやか"><br>毬子あやか</label>
      <label class="girlbox umeColor" data-kana="あわね こころ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="粟根こころ" value="粟根こころ"><br>粟根こころ</label>
      <label class="girlbox umeColor" id="masara" data-kana="かがみ まさら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="加賀見まさら" value="加賀見まさら"><br>加賀見まさら</label>
      <label class="girlbox umeColor" data-kana="まお ひみか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="眞尾ひみか" value="眞尾ひみか"><br>眞尾ひみか</label>
      <label class="girlbox umeColor" data-kana="はるな このみ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="春名このみ" value="春名このみ"><br>春名このみ</label>
      <label class="girlbox umeColor" data-kana="あやの りか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="綾野梨花" value="綾野梨花"><br>綾野梨花★</label>
      <label class="girlbox umeColor" data-kana="いすず れん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="五十鈴れん" value="五十鈴れん"><br>五十鈴れん★</label>
      <label class="girlbox umeColor" data-kana="さらさ はんな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="更紗帆奈" value="更紗帆奈"><br>更紗帆奈</label>
      <label class="girlbox umeColor" data-kana="ちあき りこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="千秋理子" value="千秋理子"><br>千秋理子</label>
      <label class="girlbox umeColor" id="ash" data-kana="あしゅりー ていらー"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="アシュリー・テイラー" value="アシュリー・テイラー"><br>アシュリー・テイラー</label>
      <label class="girlbox umeColor" data-kana="めぐみ もか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="恵萌花" value="恵萌花"><br>恵萌花</label>
      <label class="girlbox umeColor" data-kana="ひびき めぐる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="枇々木めぐる" value="枇々木めぐる"><br>枇々木めぐる</label>
      <label class="girlbox umeColor" data-kana="ゆら ほたる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="由良蛍" value="由良蛍"><br>由良蛍</label>
      <label class="girlbox umeColor" data-kana="まい あかり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="真井あかり" value="真井あかり"><br>真井あかり</label>

      <label class="girlbox umeOtherColor leftm" data-kana="くるみ まなか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="胡桃まなか" value="胡桃まなか"><br>胡桃まなか</label>
      <label class="girlbox umeOtherColor" data-kana="わかな つむぎ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="若菜つむぎ" value="若菜つむぎ"><br>若菜つむぎ</label>
      <label class="girlbox umeOtherColor" data-kana="あみ りあ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="阿見莉愛" value="阿見莉愛"><br>阿見莉愛</label>
      <label class="girlbox umeOtherColor" data-kana="こづえ まゆ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="梢麻友" value="梢麻友"><br>梢麻友</label>
      <label class="girlbox umeOtherColor" data-kana="ふみの さゆき"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="史乃沙優希" value="史乃沙優希"><br>史乃沙優希</label>

      <label class="girlbox PMHQColor leftm" data-kana="ときわ ななか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="常盤ななか" value="常盤ななか"><br>常盤ななか</label>
      <label class="girlbox PMHQColor" data-kana="しのぶ あきら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="志伸あきら" value="志伸あきら"><br>志伸あきら</label>
      <label class="girlbox PMHQColor" data-kana="なつめ かこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="夏目かこ" value="夏目かこ"><br>夏目かこ</label>
      <label class="girlbox PMHQColor" data-kana="ちゅん めいゆい"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="純美雨" value="純美雨"><br>純美雨</label>

      <label class="girlbox PMHQotherColor leftm" data-kana="いぶき れいら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="伊吹れいら" value="伊吹れいら"><br>伊吹れいら</label>
      <label class="girlbox PMHQotherColor" data-kana="くみ せいか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="桑水せいか" value="桑水せいか"><br>桑水せいか</label>
      <label class="girlbox PMHQotherColor" data-kana="あいの みと"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="相野みと" value="相野みと"><br>相野みと</label>
      <label class="girlbox PMHQotherColor leftm" data-kana="しずみ このは"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="静海このは" value="静海このは"><br>静海このは★</label>
      <label class="girlbox PMHQotherColor" data-kana="ゆさ はづき"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="遊佐葉月" value="遊佐葉月"><br>遊佐葉月★</label>
      <label class="girlbox PMHQotherColor" data-kana="みくり あやめ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="三栗あやめ" value="三栗あやめ"><br>三栗あやめ</label>
      <label class="girlbox PMHQotherColor leftm" data-kana="ゆき まりあ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="由貴真里愛" value="由貴真里愛"><br>由貴真里愛</label>
      <label class="girlbox PMHQotherColor" data-kana="きりの さえ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="桐野紗枝" value="桐野紗枝"><br>桐野紗枝</label>

      <label class="girlbox otherColor leftm" data-kana="こまち みくら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="古町みくら" value="古町みくら"><br>古町みくら</label>
      <label class="girlbox otherColor" data-kana="みほの せいら"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="三穂野せいら" value="三穂野せいら"><br>三穂野せいら</label>
      <label class="girlbox otherColor" data-kana="きら てまり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="吉良てまり" value="吉良てまり"><br>吉良てまり</label>
      <label class="girlbox otherColor" data-kana="みずき るい"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="水樹塁" value="水樹塁"><br>水樹塁</label>
      <label class="girlbox otherColor leftm" data-kana="ゆずき ほとり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="柚希ほとり" value="柚希ほとり"><br>柚希ほとり</label>
      <label class="girlbox otherColor" data-kana="ゆずき りおん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="柚希りおん" value="柚希りおん"><br>柚希りおん</label>
      <label class="girlbox otherColor" data-kana="かはる ゆうな"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="香春ゆうな" value="香春ゆうな"><br>香春ゆうな</label>
      <label class="girlbox otherColor" data-kana="ななせ ゆきか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="七瀬ゆきか" value="七瀬ゆきか"><br>七瀬ゆきか</label>
      <label class="girlbox otherColor" data-kana="いりな くしゅ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="入名クシュ" value="入名クシュ"><br>入名クシュ</label>

      <label class="girlbox otherColor2 leftm" data-kana="ゆきの かなえ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="雪野かなえ" value="雪野かなえ"><br>雪野かなえ</label>
      <label class="girlbox otherColor2" data-kana="あんな める"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="安名メル" value="安名メル"><br>安名メル</label>

      <!-- ここから外伝キャラ -->
      <label class="girlbox gaidenColor leftm" data-kana="みくに おりこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="美国織莉子" value="美国織莉子"><br>美国織莉子</label>
      <label class="girlbox gaidenColor" data-kana="くれ きりか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="呉キリカ" value="呉キリカ"><br>呉キリカ</label>
      <label class="girlbox gaidenColor" data-kana="ちとせ ゆま"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="千歳ゆま" value="千歳ゆま"><br>千歳ゆま</label>

      <label class="girlbox PMHQColor leftm" data-kana="かずみ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="かずみ" value="かずみ"><br>かずみ</label>
      <label class="girlbox PMHQColor" data-kana="みさき うみか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="御崎海香" value="御崎海香"><br>御崎海香</label>
      <label class="girlbox PMHQColor" data-kana="まき かおる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="牧カオル" value="牧カオル"><br>牧カオル</label>
      <label class="girlbox PMHQColor" data-kana="かずさ みちる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="和紗ミチル" value="和紗ミチル"><br>和紗ミチル</label>
      <label class="girlbox PMHQColor" data-kana="あさみ さき"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="浅海サキ" value="浅海サキ"><br>浅海サキ</label>
      <label class="girlbox PMHQColor" data-kana="かんな にこ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="神那ニコ" value="神那ニコ"><br>神那ニコ</label>

      <label class="girlbox gaidenColor leftm" data-kana="たると"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="タルト" value="タルト"><br>タルト★</label>
      <label class="girlbox gaidenColor" data-kana="りず"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="リズ" value="リズ"><br>リズ</label>
      <label class="girlbox gaidenColor" data-kana="めりっさ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="メリッサ" value="メリッサ"><br>メリッサ</label>
      <label class="girlbox gaidenColor" data-kana="えりざ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="エリザ" value="エリザ"><br>エリザ</label>
      <label class="girlbox gaidenColor" data-kana="ぺれねる"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="ペレネル" value="ペレネル"><br>ペレネル</label>
      <label class="girlbox gaidenColor" data-kana="みぬぅ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="ミヌゥ" value="ミヌゥ"><br>ミヌゥ</label>
      <label class="girlbox gaidenColor" data-kana="こるぼー"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="コルボー" value="コルボー"><br>コルボー</label>
      <label class="girlbox gaidenColor" data-kana="らぴぬ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="ラピヌ" value="ラピヌ"><br>ラピヌ</label>
      <label class="girlbox gaidenColor" data-kana="いざぼー"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="イザボー" value="イザボー"><br>イザボー<BR></label>

      <label class="girlbox PMHQColor leftm" data-kana="あまの すずね"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="天乃鈴音" value="天乃鈴音"><br>天乃鈴音</label>
      <label class="girlbox PMHQColor" data-kana="ひなた まつり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="日向茉莉" value="日向茉莉"><br>日向茉莉</label>
      <label class="girlbox PMHQColor" data-kana="なるみ ありさ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="成見亜里紗" value="成見亜里紗"><br>成見亜里紗</label>
      <label class="girlbox PMHQColor" data-kana="しおん ちさと"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="詩音千里" value="詩音千里"><br>詩音千里</label>
      <label class="girlbox PMHQColor" data-kana="かなで はるか"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="奏遥香" value="奏遥香"><br>奏遥香</label>
      <label class="girlbox PMHQColor" data-kana="みこと つばき"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="美琴椿" value="美琴椿"><br>美琴椿</label>
      <label class="girlbox PMHQColor" data-kana="ひなた かがり"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="日向華々莉" value="日向華々莉"><br>日向華々莉</label>

      <label class="girlbox collaboColor leftm" data-kana="たかまち なのは"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="高町なのは" value="高町なのは"><br>高町なのは</label>
      <label class="girlbox collaboColor" id="fate_t" data-kana="ふぇいと てぃー はらおうん"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="フェイト・T・ハラオウン" value="フェイト・T・ハラオウン"><br>フェイト・T<br>・ハラオウン</label>
      <label class="girlbox collaboColor" data-kana="やがみ はやて"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="八神はやて" value="八神はやて"><br>八神はやて</label>

      <!-- ここから魔法少女以外 -->
      <label class="girlbox mobColor leftm" data-kana="きゅぅべえ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="キュゥべえ" value="キュゥべえ"><br>キュゥべえ★</label>

      <label class="girlbox unimpColor" data-kana="さとり かごめ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="佐鳥かごめ" value="佐鳥かごめ"><br>佐鳥かごめ</label>
      <label class="girlbox unimpColor" data-kana="くろえ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="黒江" value="黒江"><br>黒江</label>
      <label class="girlbox unimpColor" data-kana="あき まばゆ"><input type="checkbox" class="MagicalChk" onchange="chkBoxCng(this.value);" name="chara" id="愛生まばゆ" value="愛生まばゆ"><br>愛生まばゆ</label>

    </div>
  </form>
  <!-- 魔法少女チェックボックス実装おわり -->
  <input type="button" value="絞り込みリセット" class="ndownReset" onClick="ndownReset('call');">
  <!-- 魔法少女絞り込みテキスト入力実装 -->
  <input type="text" spellcheck="false" class="ndownword" name="ndownword" placeholder="かなカナ漢字名前で絞り込み。スペースでOR。削除で戻る" id="ndownword2" oninput="mgirlNarrow('call', 'ndownword2')">

  <!-- 結果表示領域-->
  <div id="container"></div>

  <!-- 表示部分終わり。以下処理用javascriptなど ============================================== -->
  <!--スプレッドシートで作った呼びかけのhashファイルを読み出す。-->
  <!-- 共通処理ファイルを読む -->
  <script src="./myfile/myCommon.js"></script>
  <!-- 魔法少女絞り込みのjavascriptメソッドを読む -->
  <script src="./myfile/mgirlNarrow.js"></script>
  <!-- 絞り込みリセットのjavascriptメソッドを読む -->
  <script src="./myfile/ndownReset.js"></script>

  <script>
    //ページトップへ進む。jqueryで実装。
    $(function() {
      /** ページトップ処理 **/
      $('#pagetop').fadeIn("slow");
      // クリックした場合
      $('#pagetop').click(function() {
        // ページトップへスクロール
        $("html, body").animate({
          scrollTop: 0,
        }, "slow");
        return false;
      });
    });
  </script>

  <script>
    //ページボトムへ進む。jqueryで実装。
    $(function() {
      /** ページボトム処理 **/
      $('#pagebtm').fadeIn("slow");
      // クリックした場合
      $('#pagebtm').click(function() {
        // ページボトムへスクロール
        $('html, body').animate({
          scrollTop: $(document).height()
        }, "slow");
        return false;
      });
    });
  </script>

  <script>
    //ページ真ん中へ進む。jqueryで実装。
    $(function() {
      /** ページ真ん中処理 **/
      $('#pagemdl').fadeIn("slow");
      // クリックした場合
      $('#pagemdl').click(function() {
        // ページボトムへスクロール
        $('html, body').animate({
          scrollTop: $("#container").offset().top
        }, "slow");
        return false;
      });
    });
  </script>

  <!-- トップアイコンの設定 -->
  <a id="pagetop" href="#top" class="page_top" style="display: none;"><i class="fa fa-arrow-circle-o-up fa-3x"></i></a>
  <!-- 真ん中アイコンの設定 -->
  <a id="pagemdl" href="#mdl" class="page_mdl" style="display: none;"><i class="fa fa-bar-chart fa-3x"></i></a>
  <!-- ボトムアイコンの設定 -->
  <a id="pagebtm" href="#btm" class="page_btm" style="display: none;"><i class="fa fa-arrow-circle-o-down fa-3x"></i></a>

  <script>
    //チェックボックスが変更になったときに動作させる関数
    function chkBoxCng(girlName) {
      //前の結果を消す。
      if (document.getElementById("graphtable") !== null) {
        document.getElementById("graphtable").remove();
      }

      //グラフまでジャンプ
      $("html, body").animate({
        scrollTop: $("#container").offset().top,
      }, "slow");
      //チェックボックスを全てリセット(見えない)
      girlReset();

      //ローディングを表示
      document.getElementById("container").insertAdjacentHTML('afterbegin',
        '<img id="loading" border="0" src="./img/webp/loading.webp" width="60" height="60" alt="loading...">');

      //ajaxでデータを貰う。
      const DataUrl =
        "https://script.google.com/macros/s/AKfycbyXrQPl-k-SPUxM4MFHkdlFgHQp3kUp7p3iZgaTIc4Hbu8_lghESfjjLOjFPJXTDGbd/exec";
      $.ajax({
          //type: "GET",
          type: "GET", //GASのweb公開はクロスドメイン対応なのでgetでもpostでもOK
          url: DataUrl,
          dataType: "json",
          data: {
            gname: girlName
          }
        })
        .then(outdata => { //Ajax通信に成功したときの処理
            //loadingアイコンを消す。
            document.getElementById("loading").remove();

            const data = outdata.map(dataAry => {
              return {
                name: dataAry[0],
                value: dataAry[1]
              };
            });
            //console.log(data);
            //グラフを表示する。
            let threshold = data[0]["value"]; //グラフのmax値

            let grafTable = "<table class='graphtable' id='graphtable'>";
            grafTable += `<caption style="text-align:left;"><img class="graf-icon" src="./img/webp/${girlName}.webp">の同席ランキング</caption>`;

            for (var variable of data) {
              // しきい値からパーセンテージを計算
              variable.percentage = Math.round(variable.value / threshold * 100);

              // tableに追加
              grafTable += `<tr><td class="data-name">${variable.name}</td>`;
              grafTable += `<td class="graf-icon-td"><img class="graf-icon" src="./img/webp/${variable.name}.webp"></td>`;
              grafTable += `<td><div class="graf-bar-bg"><div class="graf-bar" id="${variable.name}_bar" style="width:${variable.percentage}%"><span>${variable.value}</span></div></div></td>`;
              grafTable += "</tr>";
            }
            grafTable += "</table>"
            document.getElementById("container").insertAdjacentHTML('beforeend', grafTable);
          },
          error => { //Ajax通信に失敗したときの処理
            //loadingアイコンを消す。
            document.getElementById("loading").remove();
            document.getElementById("container").insertAdjacentHTML('beforeend',
              "<div id='result'><BR>データ取得に失敗しました。しばらく時間をおいてから再検索をお願いします。</div>");
          });
    }


    //魔法少女の選択をリセットする。
    function girlReset() {
      const checkboxes = document.getElementsByName("chara");
      for (i in checkboxes) {
        checkboxes[i].checked = false;
      }
    }
  </script>
</body>

</html>